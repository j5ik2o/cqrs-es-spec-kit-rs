# Feature Specification: [FEATURE NAME]

**Feature Branch**: `[###-feature-name]`  
**Created**: [DATE]  
**Status**: Draft  
**Input**: ユーザ要求: "$ARGUMENTS"

## ユーザシナリオとテスト *(必須)*

<!--
  優先度付きのユーザジャーニーを記述する。各シナリオは独立した MVP として価値を提供し、個別にデモ・テスト可能であること。
  優先度は P1 (最重要) / P2 / P3 の順で付与する。
  各シナリオは単独で開発・テスト・デプロイでき、OpenSpec の plan/tasks で追跡できるようにする。
-->

### User Story 1 - [短いタイトル] (Priority: P1)

[ユーザの行動と期待結果を日本語で記述]

**優先度の理由**: [ビジネス価値や依存関係を明記]

**独立したテスト方法**: [特定の操作で成立することを説明]

**受け入れシナリオ**:

1. **Given** [初期状態], **When** [アクション], **Then** [期待結果]
2. **Given** [初期状態], **When** [アクション], **Then** [期待結果]

---

### User Story 2 - [短いタイトル] (Priority: P2)

[シナリオ説明]

**優先度の理由**: [理由]

**独立したテスト方法**: [説明]

**受け入れシナリオ**:

1. **Given** [初期状態], **When** [アクション], **Then** [期待結果]

---

### User Story 3 - [短いタイトル] (Priority: P3)

[シナリオ説明]

**優先度の理由**: [理由]

**独立したテスト方法**: [説明]

**受け入れシナリオ**:

1. **Given** [初期状態], **When** [アクション], **Then** [期待結果]

---

[必要に応じて追加のユーザストーリーを同形式で追記する]

### 例外・境界ケース

- [境界条件] のときどう振る舞うか？
- [エラーシナリオ] をどのように扱うか？
- GraphQL 契約や BFF 経由の責務分離に影響する変更は互換性ポリシーと通知手順を明記する。
- DynamoDB Streams→Lambda（イベントフォワーダー）→Kinesis→Lambda（リードモデル更新）→MySQL パイプラインや Redis 通知との整合性を崩すケースを洗い出す。

## 要件 *(必須)*

### 機能要件

- **FR-001**: システムは [具体的機能] を提供しなければならない。
- **FR-002**: システムは [検証ルール] を保証しなければならない。
- **FR-003**: 利用者は [主要操作] を完了できなければならない。
- **FR-004**: システムは [データ永続化要件] を満たさなければならない。
- **FR-005**: システムは [監査・ロギングなど] を実施しなければならない。

*不明点がある場合の記法例:*

- **FR-006**: システムは [NEEDS CLARIFICATION: 詳細未定] をサポートしなければならない。
- **FR-007**: システムは [NEEDS CLARIFICATION: 条件未定] を管理しなければならない。

### 主要エンティティ *(データを扱う場合は必須)*

- **[Entity 1]**: [エンティティの意味と主要属性]
- **[Entity 2]**: [他エンティティとの関係やイベントとの関連]

## 成功基準 *(必須)*

### 測定可能な成果

- **SC-001**: [計測可能な指標例: "集約リプレイが 200ms 未満" など]
- **SC-002**: [シナリオ成立条件例: "ユーザが GraphQL Mutation を 1 回で成功" など]
- **SC-003**: [品質指標例: "契約テスト成功率 100%" など]
- **SC-004**: [運用/ビジネス指標例: "ECS サービスのヘルスチェック成功率 99.9%" など]

> 憲章の原則に従い、イベントソーシング、CQRS、GraphQL 契約、ECS 運用、サンドボックス運用、ドキュメント同期に関わる指標を必要に応じて追加すること。
